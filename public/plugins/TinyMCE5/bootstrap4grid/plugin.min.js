tinymce.PluginManager.add("bootstrap4grid",(function(e,t){e.contentCSS.push(t+"/bootstrapgrid-style.css"),e.ui.registry.addToggleButton("bootstrap4grid",{text:"BS4 Grid",tooltip:"Bootstrap4 Grid System",onAction:function(){var t="Insert Bootstrap4 Grids",s=["12"],l="-md",a=e.selection.getNode(),n=jQuery(a).parents("div.grid"),o=n.length>0;if(o){var r=n[0],p=jQuery(r).children("div"),d=p.length,u=[];if(d>0)for(s=[],i=0;i<d;i++){var v=jQuery(p[i]).attr("class").split(/\s+/),c=jQuery(p[i]).html();for(u.push(c),j=0;j<v.length;j++)if(/^col-.*/i.test(v[j])){0==j&&(l=v[0].indexOf("xl")>-1?"xl":v[0].indexOf("lg")>-1?"lg":v[0].indexOf("md")>-1?"md":v[0].indexOf("sm")>-1?"sm":"");var m=v[j].lastIndexOf("-"),x=v[j].substr(m+1);s.push(x)}}t="Update/Remove Bootstrap4 Grids"}var g=[{type:"selectbox",name:"size",label:"Target Screen",items:[{text:"X Large >= 1200px",value:"xl"},{text:"Large >= 992px",value:"lg"},{text:"Medium >= 768px",value:"md"},{text:"Small >= 576px",value:"sm"},{text:"X Small < 576px",value:""}]},{type:"selectbox",name:"grid",label:"Grid",items:[{text:"1 Column",value:"12"},{text:"2 Columns (1:1)",value:"6,6"},{text:"2 Columns (2:1)",value:"8,4"},{text:"2 Columns (3:1)",value:"9,3"},{text:"2 Columns (1:2)",value:"4,8"},{text:"2 Columns (1:3)",value:"3,9"},{text:"3 Columns (1:1:1)",value:"4,4,4"},{text:"3 Columns (2:1:1)",value:"6,3,3"},{text:"3 Columns (1:2:1)",value:"3,6,3"},{text:"3 Columns (1:1:2)",value:"3,3,6"},{text:"4 Columns (1:1:1:1)",value:"3,3,3,3"}]},{type:"checkbox",name:"leadingBreak",label:"Add a Leading Line Break"}],b={type:"panel",items:g};o&&(b={type:"tabpanel",tabs:[{title:"Update Bootstrap Grids",items:g},{title:"Remove Bootstrap Grids",items:[{type:"checkbox",name:"removeGrids",label:"Remove Bootstrap Grids"}]}]}),e.windowManager.open({title:t,body:b,initialData:{size:l,grid:s.toString()},buttons:[{type:"submit",name:"submitBtn",text:"Submit"},{type:"cancel",name:"cancelBtn",text:"Cancel"}],onSubmit:function(t){var i=t.getData(),s="",l="",a="<p>&nbsp;</p>";if(1==i.leadingBreak&&(s="<p>&nbsp;</p>"),1==i.removeGrids&&o)return l=u.join("<p>&nbsp;</p>"),jQuery(n).replaceWith(s+l+a),void t.close();!function(e){const t=e.length;if(o){if(d>0&&d<t){for(var i=0;i<d;i++)l+='<div class="col-span-'+e[i]+'">'+u.shift()+"</div>";for(var s=d;s<t;s++)l+='<div class="col-span-'+e[s]+'"><p>&nbsp;</p></div>'}else if(d>=t){for(i=0;i<t;i++)l+='<div class="col-span-'+e[i]+'">'+u.shift()+"</div>";d>t&&(a="<p>&nbsp;</p>"+u.join("<p>&nbsp;</p>")+"<p>&nbsp;</p>")}}else for(var n=0;n<t;n++)l+='<div class="col-span-'+e[n]+'"><p>&nbsp;</p></div>'}(i.grid.split(",")),o?jQuery(n).replaceWith(s+'<div class="grid grid-cols-12">'+l+"</div>"+a):e.insertContent(s+'<div class="grid grid-cols-12">'+l+"</div>"+a),t.close()}})},onSetup:function(t){e.selection.selectorChanged("div.grid",(function(e){t.setActive(e)}))}})}));